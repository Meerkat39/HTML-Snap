# プロジェクト TODO

HTML Snap プロジェクトの進行管理用 TODO リストです。

## MVP（最小限の実装）

### 1. HTML コード入力・プレビュー（MVP フェーズ 1）

- [x] 入力欄 UI 設計・配置
- [x] 入力値バリデーション（HTML 構文チェック）
- [x] 入力値サニタイズ（DOMPurify 利用、style タグ・属性は許可）
- [x] ペースト・入力イベントハンドリング
- [x] 入力内容の状態管理
- [x] iframe sandbox で安全レンダリング
- [x] アクセシビリティ対応
- [x] テストコード作成・実行

### 2. 最低限の XSS 対策（MVP フェーズ 1）

- [x] <script>タグ・イベント属性禁止
- [x] style タグ・属性は許可
- [x] サニタイズ仕様の明文化

### 3. 画像コピー機能（MVP フェーズ 2）

- [x] プレビュー領域の画像化（html2canvas 等）
- [x] 画像生成の品質・圧縮設定
- [x] 画像をクリップボードにコピー
- [x] コピー完了時の通知・UI フィードバック
- [x] テストコード作成・実行

## 追加機能・公開版ロードマップ

### その他拡張機能

#### トリミング機能

- [ ] トリミング UI 設計（選択・範囲指定）
- [ ] トリミング範囲のドラッグ・リサイズ対応
- [ ] トリミング処理の実装
- [ ] トリミング後の画像プレビュー
- [ ] テストコード作成・実行

#### 指定領域のみ保存

- [ ] 領域指定 UI（要素選択・ID/クラス指定など）
- [ ] 領域選択のハイライト表示
- [ ] 指定領域の画像化処理
- [ ] 保存・ダウンロード機能
- [ ] テストコード作成・実行

### 公開版ロードマップ

#### 公開版 α（セキュリティ強化・UI 改善）

- [ ] セキュリティ強化（DOMPurify ホワイトリスト導入、iframe sandbox 制限強化）
- [ ] UI 改善（ペースト → 即レンダリングの流れをスムーズに）
- [ ] エラーメッセージ処理（hasDanger 判定ロジックの改善、表示方法・通知タイミング・デザインなど）

#### 公開版 β（SSR・本番公開）

- [ ] サーバーサイドレンダリング（Next.js API Routes/Route Handlers + Puppeteer で HTML→ 画像化）
- [ ] 本番公開（Vercel/Render 等でデプロイ、公開ユーザー対応）
